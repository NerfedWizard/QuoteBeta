{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\loeln\\\\OneDrive\\\\Desktop\\\\QuoteBeta\\\\quote-react\\\\testing-react-app\\\\src\\\\Component\\\\UserManagement\\\\Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { FormControl, InputAdornment, InputLabel, OutlinedInput, Box, IconButton, Snackbar } from '@mui/material';\nimport MuiAlert from '@mui/material/Alert';\nimport Visibility from '@mui/icons-material/Visibility';\nimport VisibilityOff from '@mui/icons-material/VisibilityOff'; // import axios from 'axios';\n\nimport AuthService from './../../services/auth.service';\nimport { ColorButton } from '../../Style/styles';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Alert = /*#__PURE__*/React.forwardRef(_c = function Alert(props, ref) {\n  return /*#__PURE__*/_jsxDEV(MuiAlert, {\n    elevation: 6,\n    ref: ref,\n    variant: \"filled\",\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 12\n  }, this);\n});\n_c2 = Alert;\nexport default function Register() {\n  _s();\n\n  const navigate = useNavigate();\n  const [newUser, setNewUser] = useState({\n    username: '',\n    fullName: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [state, setState] = useState({\n    open: false,\n    vertical: 'top',\n    horizontal: 'center'\n  });\n  const [userErrors, setUserErrors] = useState('');\n  const [errMessage, setErrMessage] = useState({});\n  const {\n    vertical,\n    horizontal,\n    open\n  } = state; // const user = AuthService.getCurrentUser();\n  // const showErrors = (event) => {\n  //     handleClick({\n  //         vertical: 'top',\n  //         horizontal: 'center',\n  //     });\n  // }\n\n  useEffect(props => event => {\n    if (userErrors) {\n      setState({ ...state,\n        vertical: 'top',\n        horizontal: 'center',\n        open: true\n      });\n\n      if (userErrors.username) {\n        setErrMessage(userErrors.username);\n      }\n\n      if (userErrors.fullName) {\n        setErrMessage(userErrors.fullName);\n      }\n\n      console.log(userErrors);\n      console.log(userErrors.password); // console.log(newUser.errors.props.event.target.value)\n      // setErrMessage(JSON.stringify(userErrors));\n      // setMessage({ ...(JSON.stringify(newUser.errors)), [props]: event.target.value });\n    }\n  }, [userErrors]);\n\n  const handleChange = props => event => {\n    setNewUser({ ...newUser,\n      [props]: event.target.value\n    });\n  };\n\n  async function onSubmit(event) {\n    AuthService.register(newUser).then(() => {\n      navigate(\"/login\");\n      window.location.reload();\n    }, err => {\n      // setNewUser({ ...newUser, errors: err.response.data });\n      // userErrors.push(err.response.data);\n      setUserErrors(err.response.data);\n    });\n  }\n\n  ;\n\n  const handleClickShowPassword = () => {\n    setNewUser({ ...newUser,\n      showPassword: !newUser.showPassword\n    });\n  };\n\n  const handleMouseDownPassword = event => {\n    event.preventDefault();\n  };\n\n  const handleClickShowConfirmPassword = () => {\n    setNewUser({ ...newUser,\n      showConfirmPassword: !newUser.showConfirmPassword\n    });\n  };\n\n  const handleMouseDownConfirmPassword = event => {\n    event.preventDefault();\n  };\n\n  const handleClick = newState => () => {\n    setState({\n      open: true,\n      ...newState\n    });\n  };\n\n  const handleClose = () => {\n    setState({ ...state,\n      open: false\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(FormControl, {\n        sx: {\n          m: 1,\n          width: '30ch'\n        },\n        variant: \"outlined\",\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          htmlFor: \"standard-adornment-username\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(OutlinedInput, {\n          id: \"outlined-adornment-username\",\n          value: newUser.username,\n          onChange: handleChange('username'),\n          label: \"Username\" // error\n          // helperText={JSON.stringify(newUser.errors) }\n          ,\n          sx: {\n            borderRadius: 15\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        sx: {\n          m: 1,\n          width: '30ch'\n        },\n        variant: \"outlined\",\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          htmlFor: \"standard-adornment-fullName\",\n          children: \"Fullname\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(OutlinedInput, {\n          id: \"outlined-adornment-fullname\",\n          value: newUser.fullName // error\n          ,\n          onChange: handleChange('fullName'),\n          label: \"fullName\" // helperText={JSON.stringify(newUser.errors)}\n          ,\n          sx: {\n            borderRadius: 15\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        sx: {\n          m: 1,\n          width: '30ch'\n        },\n        variant: \"outlined\",\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          htmlFor: \"standard-adornment-password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(OutlinedInput, {\n          id: \"outlined-adornment-password\",\n          value: newUser.password,\n          onChange: handleChange('password'),\n          type: newUser.showPassword ? 'text' : 'password',\n          label: \"Password\",\n          sx: {\n            borderRadius: 15\n          },\n          endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n            position: \"end\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              \"aria-label\": \"toggle password visibility\",\n              onClick: handleClickShowPassword,\n              onMouseDown: handleMouseDownPassword,\n              edge: \"end\",\n              children: newUser.showPassword ? /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 61\n              }, this) : /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 81\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        sx: {\n          m: 1,\n          width: '30ch'\n        },\n        variant: \"outlined\",\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          htmlFor: \"standard-adornment-confirmPassword\",\n          children: \"Confirm Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(OutlinedInput, {\n          id: \"outlined-adornment-confirmPassword\",\n          value: newUser.confirmPassword,\n          onChange: handleChange('confirmPassword'),\n          type: newUser.showConfirmPassword ? 'text' : 'password',\n          label: \"Confirm Password\",\n          onKeyPress: e => {\n            if (e.key === 'Enter') {\n              onSubmit();\n            }\n          },\n          sx: {\n            borderRadius: 15\n          },\n          endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n            position: \"end\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              \"aria-label\": \"toggle confirmPassword visibility\",\n              onClick: handleClickShowConfirmPassword,\n              onMouseDown: handleMouseDownConfirmPassword,\n              edge: \"end\",\n              children: newUser.showConfirmPassword ? /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 68\n              }, this) : /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 88\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ColorButton, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: onSubmit,\n        sx: {\n          color: 'antiquewhite',\n          bgcolor: 'cornflowerblue',\n          height: 35,\n          alignSelf: 'center'\n        },\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n        anchorOrigin: {\n          vertical,\n          horizontal\n        },\n        open: open,\n        onClose: handleClose,\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          onClose: handleClose,\n          severity: \"warning\",\n          children: errMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }, this)\n      }, vertical + horizontal, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(Register, \"fRHFYgvKUooQNirbcM1YemKlsRc=\", false, function () {\n  return [useNavigate];\n});\n\n_c3 = Register;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Alert$React.forwardRef\");\n$RefreshReg$(_c2, \"Alert\");\n$RefreshReg$(_c3, \"Register\");","map":{"version":3,"sources":["C:/Users/loeln/OneDrive/Desktop/QuoteBeta/quote-react/testing-react-app/src/Component/UserManagement/Register.js"],"names":["React","useEffect","useState","FormControl","InputAdornment","InputLabel","OutlinedInput","Box","IconButton","Snackbar","MuiAlert","Visibility","VisibilityOff","AuthService","ColorButton","useNavigate","Alert","forwardRef","props","ref","Register","navigate","newUser","setNewUser","username","fullName","password","confirmPassword","state","setState","open","vertical","horizontal","userErrors","setUserErrors","errMessage","setErrMessage","event","console","log","handleChange","target","value","onSubmit","register","then","window","location","reload","err","response","data","handleClickShowPassword","showPassword","handleMouseDownPassword","preventDefault","handleClickShowConfirmPassword","showConfirmPassword","handleMouseDownConfirmPassword","handleClick","newState","handleClose","display","justifyContent","m","width","borderRadius","e","key","color","bgcolor","height","alignSelf"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {\r\n    FormControl,\r\n    InputAdornment,\r\n    InputLabel,\r\n    OutlinedInput,\r\n    Box,\r\n    IconButton,\r\n    Snackbar,\r\n\r\n} from '@mui/material';\r\nimport MuiAlert from '@mui/material/Alert';\r\nimport Visibility from '@mui/icons-material/Visibility';\r\nimport VisibilityOff from '@mui/icons-material/VisibilityOff';\r\n// import axios from 'axios';\r\nimport AuthService from './../../services/auth.service';\r\nimport { ColorButton } from '../../Style/styles';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nexport default function Register() {\r\n    const navigate = useNavigate();\r\n\r\n    const [newUser, setNewUser] = useState({\r\n        username: '',\r\n        fullName: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n    });\r\n    const [state, setState] = useState({\r\n        open: false,\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n    });\r\n    const [userErrors, setUserErrors] = useState('');\r\n    const [errMessage, setErrMessage] = useState({});\r\n    const { vertical, horizontal, open } = state;\r\n    // const user = AuthService.getCurrentUser();\r\n    // const showErrors = (event) => {\r\n    //     handleClick({\r\n    //         vertical: 'top',\r\n    //         horizontal: 'center',\r\n    //     });\r\n    // }\r\n    useEffect((props) => (event) => {\r\n        if (userErrors) {\r\n            setState({\r\n                ...state,\r\n                vertical: 'top',\r\n                horizontal: 'center',\r\n                open: true,\r\n            });\r\n            if (userErrors.username) {\r\n                setErrMessage(userErrors.username);\r\n            }\r\n            if (userErrors.fullName) {\r\n                setErrMessage(userErrors.fullName);\r\n            }\r\n            \r\n            console.log(userErrors);\r\n            console.log(userErrors.password);\r\n            // console.log(newUser.errors.props.event.target.value)\r\n            // setErrMessage(JSON.stringify(userErrors));\r\n            // setMessage({ ...(JSON.stringify(newUser.errors)), [props]: event.target.value });\r\n        }\r\n    }, [userErrors]);\r\n\r\n    const handleChange = (props) => (event) => {\r\n        setNewUser({ ...newUser, [props]: event.target.value });\r\n    };\r\n    async function onSubmit(event) {\r\n        AuthService.register(newUser).then(\r\n            () => {\r\n                navigate(\"/login\");\r\n                window.location.reload();\r\n            },\r\n            (err) => {\r\n                // setNewUser({ ...newUser, errors: err.response.data });\r\n                // userErrors.push(err.response.data);\r\n                setUserErrors(err.response.data);\r\n            }\r\n        );\r\n    };\r\n    const handleClickShowPassword = () => {\r\n        setNewUser({\r\n            ...newUser,\r\n            showPassword: !newUser.showPassword,\r\n        });\r\n    };\r\n    const handleMouseDownPassword = (event) => {\r\n        event.preventDefault();\r\n    };\r\n    const handleClickShowConfirmPassword = () => {\r\n        setNewUser({\r\n            ...newUser,\r\n            showConfirmPassword: !newUser.showConfirmPassword,\r\n        });\r\n    };\r\n    const handleMouseDownConfirmPassword = (event) => {\r\n        event.preventDefault();\r\n    };\r\n    const handleClick = (newState) => () => {\r\n        setState({ open: true, ...newState });\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setState({ ...state, open: false });\r\n    };\r\n    return (\r\n        <>\r\n            <Box sx={{ display: 'flex', justifyContent: 'center' }}>\r\n                <FormControl sx={{ m: 1, width: '30ch' }} variant=\"outlined\">\r\n                    <InputLabel htmlFor=\"standard-adornment-username\">\r\n                        Username\r\n                    </InputLabel>\r\n                    <OutlinedInput\r\n                        id='outlined-adornment-username'\r\n                        value={newUser.username}\r\n                        onChange={handleChange('username')}\r\n                        label=\"Username\"\r\n                        // error\r\n                        // helperText={JSON.stringify(newUser.errors) }\r\n                        sx={{ borderRadius: 15 }}\r\n                    />\r\n                </FormControl>\r\n                <FormControl sx={{ m: 1, width: '30ch' }} variant=\"outlined\">\r\n                    <InputLabel htmlFor=\"standard-adornment-fullName\">\r\n                        Fullname\r\n                    </InputLabel>\r\n                    <OutlinedInput\r\n                        id='outlined-adornment-fullname'\r\n                        value={newUser.fullName}\r\n                        // error\r\n                        onChange={handleChange('fullName')}\r\n                        label=\"fullName\"\r\n                        // helperText={JSON.stringify(newUser.errors)}\r\n                        sx={{ borderRadius: 15 }}\r\n                    />\r\n                </FormControl>\r\n\r\n                <FormControl sx={{ m: 1, width: '30ch' }} variant=\"outlined\">\r\n                    <InputLabel htmlFor=\"standard-adornment-password\">\r\n                        Password\r\n                    </InputLabel>\r\n                    <OutlinedInput\r\n                        id=\"outlined-adornment-password\"\r\n                        value={newUser.password}\r\n                        onChange={handleChange('password')}\r\n                        type={newUser.showPassword ? 'text' : 'password'}\r\n                        label=\"Password\"\r\n                        sx={{ borderRadius: 15 }}\r\n                        endAdornment={\r\n                            <InputAdornment position=\"end\">\r\n                                <IconButton\r\n                                    aria-label=\"toggle password visibility\"\r\n                                    onClick={handleClickShowPassword}\r\n                                    onMouseDown={handleMouseDownPassword}\r\n                                    edge=\"end\">\r\n                                    {newUser.showPassword ? <VisibilityOff /> : <Visibility />}\r\n                                </IconButton>\r\n                            </InputAdornment>\r\n                        }\r\n                    />\r\n                </FormControl>\r\n                <FormControl sx={{ m: 1, width: '30ch' }} variant=\"outlined\">\r\n                    <InputLabel htmlFor=\"standard-adornment-confirmPassword\">\r\n                        Confirm Password\r\n                    </InputLabel>\r\n                    <OutlinedInput\r\n                        id=\"outlined-adornment-confirmPassword\"\r\n                        value={newUser.confirmPassword}\r\n                        onChange={handleChange('confirmPassword')}\r\n                        type={newUser.showConfirmPassword ? 'text' : 'password'}\r\n                        label=\"Confirm Password\"\r\n                        onKeyPress={(e) => { if (e.key === 'Enter') { onSubmit(); } }}\r\n                        sx={{ borderRadius: 15 }}\r\n                        endAdornment={\r\n                            <InputAdornment position=\"end\">\r\n                                <IconButton\r\n                                    aria-label=\"toggle confirmPassword visibility\"\r\n                                    onClick={handleClickShowConfirmPassword}\r\n                                    onMouseDown={handleMouseDownConfirmPassword}\r\n                                    edge=\"end\">\r\n                                    {newUser.showConfirmPassword ? <VisibilityOff /> : <Visibility />}\r\n                                </IconButton>\r\n                            </InputAdornment>\r\n                        }\r\n                    />\r\n                </FormControl>\r\n                <ColorButton\r\n                    type=\"submit\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={onSubmit}\r\n                    sx={{ color: 'antiquewhite', bgcolor: 'cornflowerblue', height: 35, alignSelf: 'center' }}>\r\n                    Submit\r\n                </ColorButton>\r\n                <Snackbar\r\n                    anchorOrigin={{ vertical, horizontal }}\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                    key={vertical + horizontal}>\r\n                    <Alert onClose={handleClose} severity=\"warning\">\r\n                        {errMessage}\r\n                    </Alert>\r\n                </Snackbar>\r\n            </Box>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}