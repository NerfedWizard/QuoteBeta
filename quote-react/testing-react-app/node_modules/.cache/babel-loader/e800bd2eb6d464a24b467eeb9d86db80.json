{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/loeln/OneDrive/Desktop/QuoteBeta/quote-react/testing-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/loeln/OneDrive/Desktop/QuoteBeta/quote-react/testing-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"C:/Users/loeln/OneDrive/Desktop/QuoteBeta/quote-react/testing-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"C:/Users/loeln/OneDrive/Desktop/QuoteBeta/quote-react/testing-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\loeln\\\\OneDrive\\\\Desktop\\\\QuoteBeta\\\\quote-react\\\\testing-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from'react';import{FormControl,InputAdornment,InputLabel,OutlinedInput,Box,IconButton,Snackbar}from'@mui/material';import MuiAlert from'@mui/material/Alert';import Visibility from'@mui/icons-material/Visibility';import VisibilityOff from'@mui/icons-material/VisibilityOff';import{useNavigate}from\"react-router-dom\";import{ColorButton}from'../../Style/styles';import AuthService from'./../../services/auth.service';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Alert=/*#__PURE__*/React.forwardRef(function Alert(props,ref){return/*#__PURE__*/_jsx(MuiAlert,_objectSpread({elevation:6,ref:ref,variant:\"filled\"},props));});export default function Login(){var _useState=useState({username:'',password:'',errors:{}}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var navigate=useNavigate();var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userErrors=_useState4[0],setUserErrors=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),errUser=_useState6[0],setErrUser=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),errPass=_useState8[0],setErrPass=_useState8[1];var _useState9=useState({open:false,vertical:'top',horizontal:'center'}),_useState10=_slicedToArray(_useState9,2),state=_useState10[0],setState=_useState10[1];var vertical=state.vertical,horizontal=state.horizontal,open=state.open;useEffect(function(props){return function(event){if(userErrors){setState(_objectSpread(_objectSpread({},state),{},{vertical:'top',horizontal:'center',open:true}));console.log(userErrors);if(userErrors.username){setErrUser(userErrors.username);}if(userErrors.password){setErrPass(userErrors.password);}}};},[userErrors]);var handleChange=function handleChange(props){return function(event){setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},props,event.target.value)));};};var handleClickShowPassword=function handleClickShowPassword(){setUser(_objectSpread(_objectSpread({},user),{},{showPassword:!user.showPassword}));};var handleMouseDownPassword=function handleMouseDownPassword(event){event.preventDefault();};function onSubmit(_x){return _onSubmit.apply(this,arguments);}function _onSubmit(){_onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:AuthService.login(user).then(function(){navigate(\"/random\");window.location.reload();},function(err){setUserErrors(err.response.data);});case 1:case\"end\":return _context.stop();}}},_callee);}));return _onSubmit.apply(this,arguments);};var handleClose=function handleClose(){setState(_objectSpread(_objectSpread({},state),{},{open:false}));};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'center'},children:[/*#__PURE__*/_jsxs(FormControl,{sx:{m:1,width:'30ch'},variant:\"outlined\",children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"standard-adornment-username\",children:\"Username\"}),/*#__PURE__*/_jsx(OutlinedInput,{id:\"outlined-adornment-username\",value:user.username,onChange:handleChange('username'),label:\"Username\",sx:{borderRadius:15}})]}),/*#__PURE__*/_jsxs(FormControl,{sx:{m:1,width:'30ch'},variant:\"outlined\",children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"standard-adornment-password\",children:\"Password\"}),/*#__PURE__*/_jsx(OutlinedInput,{id:\"outlined-adornment-password\",value:user.password,onChange:handleChange('password'),type:user.showPassword?'text':'password',label:\"Password\",onKeyPress:function onKeyPress(e){if(e.key==='Enter'){onSubmit();}},sx:{borderRadius:15},endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"toggle password visibility\",onClick:handleClickShowPassword,onMouseDown:handleMouseDownPassword,edge:\"end\",children:user.showPassword?/*#__PURE__*/_jsx(VisibilityOff,{}):/*#__PURE__*/_jsx(Visibility,{})})})})]}),/*#__PURE__*/_jsx(ColorButton,{type:\"submit\",variant:\"contained\",color:\"primary\",onClick:onSubmit,sx:{color:'antiquewhite',bgcolor:'cornflowerblue',height:35,alignSelf:'center'},children:\"Submit\"}),/*#__PURE__*/_jsx(Snackbar,{anchorOrigin:{vertical:vertical,horizontal:horizontal},open:open,onClose:handleClose,children:/*#__PURE__*/_jsxs(Alert,{onClose:handleClose,severity:\"warning\",children:[errUser,/*#__PURE__*/_jsx(\"br\",{}),errPass]})},vertical+horizontal)]})});}","map":{"version":3,"sources":["C:/Users/loeln/OneDrive/Desktop/QuoteBeta/quote-react/testing-react-app/src/Component/UserManagement/Login.js"],"names":["React","useState","useEffect","FormControl","InputAdornment","InputLabel","OutlinedInput","Box","IconButton","Snackbar","MuiAlert","Visibility","VisibilityOff","useNavigate","ColorButton","AuthService","Alert","forwardRef","props","ref","Login","username","password","errors","user","setUser","navigate","userErrors","setUserErrors","errUser","setErrUser","errPass","setErrPass","open","vertical","horizontal","state","setState","event","console","log","handleChange","target","value","handleClickShowPassword","showPassword","handleMouseDownPassword","preventDefault","onSubmit","login","then","window","location","reload","err","response","data","handleClose","display","justifyContent","m","width","borderRadius","e","key","color","bgcolor","height","alignSelf"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n    FormControl,\r\n    InputAdornment,\r\n    InputLabel,\r\n    OutlinedInput,\r\n    Box,\r\n    IconButton,\r\n    Snackbar\r\n} from '@mui/material';\r\nimport MuiAlert from '@mui/material/Alert';\r\nimport Visibility from '@mui/icons-material/Visibility';\r\nimport VisibilityOff from '@mui/icons-material/VisibilityOff';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { ColorButton } from '../../Style/styles';\r\nimport AuthService from './../../services/auth.service';\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nexport default function Login() {\r\n    const [user, setUser] = useState({ username: '', password: '', errors: {} });\r\n    const navigate = useNavigate();\r\n    const [userErrors, setUserErrors] = useState('');\r\n    const [errUser, setErrUser] = useState('');\r\n    const [errPass, setErrPass] = useState('');\r\n    const [state, setState] = useState({\r\n        open: false,\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n    });\r\n    const { vertical, horizontal, open } = state;\r\n\r\n    useEffect((props) => (event) => {\r\n        if (userErrors) {\r\n            setState({\r\n                ...state,\r\n                vertical: 'top',\r\n                horizontal: 'center',\r\n                open: true,\r\n            });\r\n            console.log(userErrors);\r\n            if (userErrors.username) {\r\n                setErrUser(userErrors.username);\r\n            }\r\n            if (userErrors.password) {\r\n                setErrPass(userErrors.password);\r\n            }\r\n        }\r\n    }, [userErrors]);\r\n    const handleChange = (props) => (event) => {\r\n        setUser({ ...user, [props]: event.target.value });\r\n    };\r\n\r\n    const handleClickShowPassword = () => {\r\n        setUser({\r\n            ...user,\r\n            showPassword: !user.showPassword,\r\n        });\r\n    };\r\n    const handleMouseDownPassword = (event) => {\r\n        event.preventDefault();\r\n    };\r\n    async function onSubmit(event) {\r\n        AuthService.login(user).then(\r\n            () => {\r\n                navigate(\"/random\");\r\n                window.location.reload();\r\n            },\r\n            (err) => {\r\n                setUserErrors(err.response.data);\r\n            }\r\n        );\r\n    };\r\n\r\n\r\n    const handleClose = () => {\r\n        setState({ ...state, open: false });\r\n    };\r\n    return (\r\n        <>\r\n            <Box sx={{ display: 'flex', justifyContent: 'center' }}>\r\n                <FormControl sx={{ m: 1, width: '30ch' }} variant=\"outlined\">\r\n                    <InputLabel htmlFor=\"standard-adornment-username\">Username</InputLabel>\r\n                    <OutlinedInput\r\n                        id='outlined-adornment-username'\r\n                        value={user.username}\r\n                        onChange={handleChange('username')}\r\n                        label=\"Username\"\r\n                        sx={{ borderRadius: 15 }}\r\n                    />\r\n                </FormControl>\r\n                <FormControl sx={{ m: 1, width: '30ch' }} variant=\"outlined\">\r\n                    <InputLabel htmlFor=\"standard-adornment-password\">Password</InputLabel>\r\n                    <OutlinedInput\r\n                        id=\"outlined-adornment-password\"\r\n                        value={user.password}\r\n                        onChange={handleChange('password')}\r\n                        type={user.showPassword ? 'text' : 'password'}\r\n                        label=\"Password\"\r\n                        onKeyPress={(e) => { if (e.key === 'Enter') { onSubmit(); } }}\r\n                        sx={{ borderRadius: 15 }}\r\n                        endAdornment={\r\n                            <InputAdornment position=\"end\">\r\n                                <IconButton\r\n                                    aria-label=\"toggle password visibility\"\r\n                                    onClick={handleClickShowPassword}\r\n                                    onMouseDown={handleMouseDownPassword}\r\n                                    edge=\"end\">\r\n                                    {user.showPassword ? <VisibilityOff /> : <Visibility />}\r\n                                </IconButton>\r\n                            </InputAdornment>\r\n                        }\r\n                    />\r\n                </FormControl>\r\n                {/* <Item>{errRef}</Item> */}\r\n                <ColorButton\r\n                    type=\"submit\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={onSubmit}\r\n                    sx={{ color: 'antiquewhite', bgcolor: 'cornflowerblue', height: 35, alignSelf: 'center' }}>\r\n                    Submit\r\n                </ColorButton>\r\n                <Snackbar\r\n                    anchorOrigin={{ vertical, horizontal }}\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                    key={vertical + horizontal}>\r\n                    <Alert onClose={handleClose} severity=\"warning\">\r\n                        {errUser}<br />{errPass}\r\n                    </Alert>\r\n                </Snackbar>\r\n            </Box>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}